<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-Mapper.dtd" >

<mapper namespace="com.bit.mapper.NoticeMapper">
	
	<!-- 게시물 등록 -->
	<insert id="NoticeInsert">
		INSERT INTO notice(noticeName,noticeWriter,noticeValue)
		VALUES (#{noticeName},#{noticeWriter},#{noticeValue});
	</insert>
	
	<!-- 게시물 목록 -->
	<select id="noticeGetList" resultType="com.bit.domain.NoticeVO">	    
		SELECT  noticeNumber, noticeName, noticeWriter, noticeValue, noticeDate
	    FROM notice 
	    <if test="keyword != null">
	    	WHERE noticeName like concat('%',#{keyword}, '%')
	    </if>
	   	ORDER BY noticeNumber
	   	LIMIT #{skip}, #{amount}   	    
	</select>
 
	<!-- 게시물 수 구하기 -->
	<select id="noticeGetTotal" resultType="int">
		SELECT count(*) FROM notice	
		<if test="keyword != null">
			WHERE noticeName like concat('%', #{keyword}, '%');
		</if>
	</select>

	<!-- 게시물 디테일 페이지 -->
	<select id="noticeGetDetail" resultType="com.bit.domain.NoticeVO">	  	
	  	SELECT * 
	  	FROM notice 
	  	WHERE noticeNumber = #{noticeNumber}
	</select>
	
	<!-- 공지사항 수정 -->
	<update id="noticeModify">
		UPDATE notice 
		SET noticeName=#{noticeName},noticeValue=#{noticeValue}
		WHERE noticeNumber=#{noticeNumber}
	</update>

	<!-- 공지사항 삭제 -->
	<delete id="noticeDelete">
		DELETE FROM notice 
		WHERE noticeNumber= #{noticeNumber}	
	</delete>
	
</mapper>