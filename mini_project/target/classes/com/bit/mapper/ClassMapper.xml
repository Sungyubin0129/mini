<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-Mapper.dtd" >

<mapper namespace="com.bit.mapper.ClassMapper">

	<!-- 신규 강좌 등록 -->
	<insert id="classInsert">
		INSERT INTO Major(MajorCode, MajorName, MajorTime, MajorLocation, TargetGrade, GradePoint, MajorLimit, Professor, MajorDivision)
		VALUES (#{MajorCode}, #{MajorName}, #{MajorTime}, #{MajorLocation}, #{TargetGrade}, #{GradePoint}, #{MajorLimit}, #{Professor}, #{MajorDivision});
	</insert>
	
	<!-- 강좌 목록 -->
	<select id="classGetList" resultType="com.bit.domain.MajorVO">	    
		SELECT *
	    FROM major 
	    <if test="keyword != null">
	    	WHERE MajorName like concat('%',#{keyword}, '%')
	    </if>
	   	ORDER BY MajorCode
	   	LIMIT #{skip}, #{amount}   	    
	</select>
	
	<!-- 강좌 수 구하기 -->
	<select id="classGetTotal" resultType="int">
		SELECT count(*) FROM major	
		<if test="keyword != null">
			WHERE MajorName like concat('%', #{keyword}, '%');
		</if>
	</select>
	
	<!-- 기존 강좌 삭제 -->
	<delete id="classDelete">
		DELETE FROM major 
		WHERE MajorCode= #{MajorCode}	
	</delete>
	
</mapper>